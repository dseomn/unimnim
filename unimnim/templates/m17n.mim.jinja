{#
 # SPDX-FileCopyrightText: 2025 David Mandelberg <david@mandelberg.org>
 #
 # SPDX-License-Identifier: CC0-1.0 OR Apache-2.0
-#}

;; Automatically generated by unimnim, do not edit.


{%- macro mtext(s) -%}
  {%- set characters = [] -%}
  {%- for c in s -%}
    {%- do characters.append("\\u{:X}".format(c | ord)) -%}
  {%- endfor -%}
  "{{ "".join(characters) }}"
{%- endmacro %}


(input-method t unimnim)

(description "https://github.com/dseomn/unimnim/")

(title "UNIcode MNemonic Input Method")

(variable
  (prompt (_"What to show before a mnemonic") "Â·")
  )

(command
  (start (_"Start a mnemonic") (C-Escape))
  )

(macro
  (delete-prompt (mark CUR) (move PROMPT) (delete @<) (move CUR))
  )

(map
  (starter (start prompt))
  (map
    {%- for mnemonic, result in map.items() %}
    ({{ mtext(mnemonic) }} (delete @<) {{ mtext(result) }})
    {%- endfor %}
    )
  )

(state
  (init
    (starter (mark PROMPT) (shift map))
    )
  (map
    (map (shift init))
    (nil (delete-prompt) (shift init))
    )
  )
